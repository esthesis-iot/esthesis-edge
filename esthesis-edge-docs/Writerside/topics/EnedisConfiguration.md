# Enedis

The configuration for the esthesis EDGE Enedis module consists of the following parameters.

## General configuration

| **NAME**                                                                                            | **DESCRIPTION**                                                                                                                                      |
|-----------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------|
| **ESTHESIS_EDGE_MODULES_ENEDIS_ENABLED**<br/>--set esthesis.edge.modules.enedis.enabled             | Whether the Enedis module is enabled or not.<br/>Default: false                                                                                      |
| **ESTHESIS_EDGE_MODULES_ENEDIS_CRON**<br/>--set esthesis.edge.modules.enedis.cron                   | A Quartz-type cron expression, specifying the frequency in which the Enedis module tries to fetch data from the Enedis API.<br/>Default: 0 0 6 * * ? |
| **ESTHESIS_EDGE_MODULES_ENEDIS_MAX_DEVICES**<br/>--set esthesis.edge.modules.enedis.maxDevices      | The total number of Enedis devices that can be registered in esthesis EDGE.<br/>Default: 1000                                                       |
| **ESTHESIS_EDGE_MODULES_ENEDIS_PAST_DAYS_INIT**<br/>--set esthesis.edge.modules.enedis.pastDaysInit | The number of days in the past to fetch data from the Enedis API for a newly registered device.<br/>Default: 30                                      |
| **ESTHESIS_EDGE_MODULES_ENEDIS_CLIENT_ID**<br/>--set esthesis.edge.modules.enedis.clientId          | The client ID to use when connecting to the Enedis API.<br/>Default: esthesis-edge                                                                   |
| **ESTHESIS_EDGE_MODULES_ENEDIS_CLIENT_SECRET**<br/>--set esthesis.edge.modules.enedis.clientSecret  | The client secret to use when connecting to the Enedis API.<br/>Default: esthesis-edge                                                               |
| **QUARKUS_REST_CLIENT_ENEDIS_CLIENT**<br/>--set quarkus.restClient.EnedisClient                     | The URL of the Enedis API.<br/>Default: https://gw.ext.prod-sandbox.api.enedis.fr                                                                    |

## Data fetching

| **NAME**                                                                                                                                  | **DESCRIPTION**                                                                          |
|-------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------|
| **ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DC_ENABLED**<br/>--set esthesis.edge.modules.enedis.fetchTypes.dc.enabled                      | Enables fetching Daily Consumption data.<br/>Default: false                              |
| **ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DC_CATEGORY**<br/>--set esthesis.edge.modules.enedis.fetchTypes.dc.category                    | Category name when synchronising data.<br/>Default: energy                               |
| **ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DC_MEASUREMENT**<br/>--set esthesis.edge.modules.enedis.fetchTypes.dc.measurement              | Measurement name when synchronising data.<br/>Default: dc                                |
| **ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DC_ERRORS_THRESHOLD**<br/>--set esthesis.edge.modules.enedis.fetchTypes.dc.errorsThreshold     | The number of errors after which DC fetching is disabled for a device.<br/>Default: 10   |
| **ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DCMP_ENABLED**<br/>--set esthesis.edge.modules.enedis.fetchTypes.dcmp.enabled                  | Enables fetching Daily Consumption Max Power data.<br/>Default: false                    |
| **ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DCMP_CATEGORY**<br/>--set esthesis.edge.modules.enedis.fetchTypes.dcmp.category                | Category name when synchronising data.<br/>Default: energy                               |
| **ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DCMP_MEASUREMENT**<br/>--set esthesis.edge.modules.enedis.fetchTypes.dcmp.measurement          | Measurement name when synchronising data.<br/>Default: dcmp                              |
| **ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DCMP_ERRORS_THRESHOLD**<br/>--set esthesis.edge.modules.enedis.fetchTypes.dcmp.errorsThreshold | The number of errors after which DCMP fetching is disabled for a device.<br/>Default: 10 |
| **ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DP_ENABLED**<br/>--set esthesis.edge.modules.enedis.fetchTypes.dp.enabled                      | Enables fetching Daily Production data.<br/>Default: false                               |
| **ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DP_CATEGORY**<br/>--set esthesis.edge.modules.enedis.fetchTypes.dp.category                    | Category name when synchronising data.<br/>Default: energy                               |
| **ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DP_MEASUREMENT**<br/>--set esthesis.edge.modules.enedis.fetchTypes.dp.measurement              | Measurement name when synchronising data.<br/>Default: dp                                |
| **ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DP_ERRORS_THRESHOLD**<br/>--set esthesis.edge.modules.enedis.fetchTypes.dp.errorsThreshold     | The number of errors after which DP fetching is disabled for a device.<br/>Default: 10   |

## Self-registration

| **NAME**                                                                                                                                                       | **DESCRIPTION**                                                                                                                                                                                                                                                                                                                                                                |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_ENABLED**<br/>--set esthesis.edge.modules.enedis.selfRegistration.enabled                                     | Enables the self-registration page for Enedis' end-users.<br/>Default: false                                                                                                                                                                                                                                                                                                   |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_STATE_CHECKING**<br/>--set esthesis.edge.modules.enedis.selfRegistration.stateChecking                        | Enables checking the registration state when a user is redirected back from Enedis API to esthesis EDGE.<br/>Default: false                                                                                                                                                                                                                                                    |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_WELCOME_URL**<br/>--set esthesis.edge.modules.enedis.selfRegistration.welcomeUrl                              | If set, instead of showing an internal self-registration page the user is redirected to this url.                                                                                                                                                                                                                                                                              |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_REDIRECT_URL**<br/>--set esthesis.edge.modules.enedis.selfRegistration.redirectUrl                            | The URL Enedis API is instructed to redirect the user after consent.<br/>Default: http://localhost:8080                                                                                                                                                                                                                                                                        |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_DURATION**<br/>--set esthesis.edge.modules.enedis.selfRegistration.duration                                   | The consent duration requested from Enedis API.<br/>Default: P1Y                                                                                                                                                                                                                                                                                                               |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_PAGE_LOGO1_URL**<br/>--set esthesis.edge.modules.enedis.selfRegistration.page.logo1Url                        | The URL of the first logo to be displayed in the self-registration page.                                                                                                                                                                                                                                                                                                       |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_PAGE_LOGO1_ALT**<br/>--set esthesis.edge.modules.enedis.selfRegistration.page.logo1Alt                        | The alt text of the first logo to be displayed in the self-registration page.                                                                                                                                                                                                                                                                                                  |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_PAGE_LOGO2_URL**<br/>--set esthesis.edge.modules.enedis.selfRegistration.page.logo2Url                        | The URL of the second logo to be displayed in the self-registration page.                                                                                                                                                                                                                                                                                                      |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_PAGE_LOGO2_ALT**<br/>--set esthesis.edge.modules.enedis.selfRegistration.page.logo2Alt                        | The alt text of the second logo to be displayed in the self-registration page.                                                                                                                                                                                                                                                                                                 |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_PAGE_LOGO3_URL**<br/>--set esthesis.edge.modules.enedis.selfRegistration.page.logo3Url                        | The URL of the second logo to be displayed in the self-registration page.                                                                                                                                                                                                                                                                                                      |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_PAGE_LOGO3_ALT**<br/>--set esthesis.edge.modules.enedis.selfRegistration.page.logo3Alt                        | The alt text of the third logo to be displayed in the self-registration page.                                                                                                                                                                                                                                                                                                  |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_PAGE_BUTTON_URL**<br/>--set esthesis.edge.modules.enedis.selfRegistration.page.buttonUrl                      | The URL of the image being displayed on the Enedis forward button.                                                                                                                                                                                                                                                                                                             |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_PAGE_REGISTRATION_TITLE**<br/>--set esthesis.edge.modules.enedis.selfRegistration.page.registration.title     | The title of the self-registration page.<br/>Default: Connect your Enedis account                                                                                                                                                                                                                                                                                              |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_PAGE_REGISTRATION_MESSAGE**<br/>--set esthesis.edge.modules.enedis.selfRegistration.page.registration.message | The text of the self-registration page.<br/>Default: You will be redirected to Enedis, where you have to authenticate with your Enedis account, and authorise this application to retrieve your electricity consumption data. The authorisation will be valid for 1 year. Your data will be used by us to provide you with insights and recommendations on how to save energy. |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_PAGE_SUCCESS_TITLE**<br/>--set esthesis.edge.modules.enedis.selfRegistration.page.success.title               | The title of the successful registration page.<br/>Default: Account connected                                                                                                                                                                                                                                                                                                  |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_PAGE_SUCCESS_MESSAGE**<br/>--set esthesis.edge.modules.enedis.selfRegistration.page.success.message           | The text of the successful registration page.<br/>Default: Your account was successfully connected, you may now close this window.                                                                                                                                                                                                                                             |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_PAGE_ERROR_TITLE**<br/>--set esthesis.edge.modules.enedis.selfRegistration.page.error.title                   | The title of the unsuccessful registration page.<br/>Default: Error connecting account                                                                                                                                                                                                                                                                                         |
| **ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_PAGE_ERROR_MESSAGE**<br/>--set esthesis.edge.modules.enedis.selfRegistration.page.error.message               | The text of the unsuccessful registration page.<br/>Default: An error occurred while connecting your account. Please try again later.                                                                                                                                                                                                                                          |
